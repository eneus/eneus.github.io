hljs.initHighlightingOnLoad();jQuery(document).ready(function($){$('body').addClass('op-menu');$('body').prepend('<div class="overlay"><span class="circle-top"></span><span class="circle-bottom"></span></div>');$('#toggle').click(function(e){e.stopPropagation();closeMenu($(this));});$('.overlay').click(function(e){closeMenu($('#toggle'));});var closeMenu=function(close){if(close.is('#toggle')){close.toggleClass('on');$('html, body, .overlay, .sidebar, .menu-left-part, .menu-right-part').toggleClass('active');}};var instafeedId=$("#instafeed");if($("#instafeed").length){var feed=new Instafeed({get:'user',userId:'5949033596',resolution:'standard_resolution',template:'<figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject"><a href="{{image}}" itemprop="contentUrl" class="thumbnail-img" data-size="{{width}}x{{height}}"><img src="{{image}}" alt="{{caption}}" itemprop="thumbnail" class="image activator"/></a><figcaption itemprop="caption description">{{caption}}</figcaption></figure>',accessToken:'5949033596.6d865ac.eb2e0457c3b742e7a526e06fa92345ca'});feed.run();}
var clipInit=false;$('code').each(function(){var code=$(this),text=code.text();if(text.length>5){if(!clipInit){var text,clip=new ClipboardJS('.copy-to-clipboard',{text:function(trigger){text=$(trigger).prev('code').text();return text.replace(/^\$\s/gm,'');}});var inPre;clip.on('success',function(e){e.clearSelection();inPre=$(e.trigger).parent().prop('tagName')=='PRE';$(e.trigger).attr('aria-label','Copied to clipboard!').addClass('tooltipped tooltipped-'+(inPre?'w':'s'));});clip.on('error',function(e){inPre=$(e.trigger).parent().prop('tagName')=='PRE';$(e.trigger).attr('aria-label',fallbackMessage(e.action)).addClass('tooltipped tooltipped-'+(inPre?'w':'s'));$(document).one('copy',function(){$(e.trigger).attr('aria-label','Copied to clipboard!').addClass('tooltipped tooltipped-'+(inPre?'w':'s'));});});clipInit=true;}
code.after('<span class="copy-to-clipboard" title="Copy to clipboard" />');code.next('.copy-to-clipboard').on('mouseleave',function(){$(this).attr('aria-label',null).removeClass('tooltipped tooltipped-s tooltipped-w');});}});$(".copy-to-clipboard").click(function(){toastr.options.positionClass="toast-top-right";toastr.success('&nbsp; &nbsp; Copied to the clipboard');});$(".blog-item-holder").hover(function(){$(".blog-item-holder").not(this).addClass('blur');},function(){$(".blog-item-holder").removeClass('blur');});var btn=$('.scroll-top');$(window).scroll(function(){if($(window).scrollTop()>300){btn.addClass('show');}else{btn.removeClass('show');}});btn.on('click',function(e){e.preventDefault();$('html, body').animate({scrollTop:0},'300');});$('input, textarea').focus(function(){$(this).data('placeholder',$(this).attr('placeholder'));$(this).attr('placeholder','');});$('input, textarea').blur(function(){$(this).attr('placeholder',$(this).data('placeholder'));});var gallery=$('.cd-gallery'),foldingPanel=$('.cd-folding-panel'),mainContent=$('.cd-main');gallery.on('click','a',function(event){event.preventDefault();openItemInfo($(this).attr('href'));});foldingPanel.on('click','.cd-close',function(event){event.preventDefault();toggleContent('',false);});gallery.on('click',function(event){if($(event.target).is('.cd-gallery')&&$('.fold-is-open').length>0)toggleContent('',false);})
function openItemInfo(url){var mq=viewportSize();if(gallery.offset().top>$(window).scrollTop()&&mq!='mobile'){$('body,html').animate({'scrollTop':gallery.offset().top},100,function(){toggleContent(url,true);});}else if(gallery.offset().top+gallery.height()<$(window).scrollTop()+$(window).height()&&mq!='mobile'){$('body,html').animate({'scrollTop':gallery.offset().top+gallery.height()-$(window).height()},100,function(){toggleContent(url,true);});}else{toggleContent(url,true);}}
function toggleContent(url,bool){if(bool){var foldingContent=foldingPanel.find('.cd-fold-content');foldingContent.load(url+' article.center-relative > *',function(event){setTimeout(function(){$('body').addClass('overflow-hidden');foldingPanel.addClass('is-open');mainContent.addClass('fold-is-open');},100);});}else{var mq=viewportSize();foldingPanel.removeClass('is-open');mainContent.removeClass('fold-is-open');(mq=='mobile'||$('.no-csstransitions').length>0)?$('body').removeClass('overflow-hidden'):mainContent.find('.cd-item').eq(0).one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend',function(){$('body').removeClass('overflow-hidden');mainContent.find('.cd-item').eq(0).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');});}}
function viewportSize(){return window.getComputedStyle(document.querySelector('.cd-main'),'::before').getPropertyValue('content').replace(/"/g,"").replace(/'/g,"");}
$.typeahead({input:'.js-typeahead-country_v2',minLength:1,maxItem:20,order:"asc",href:"https://en.wikipedia.org/?title={{display}}",template:"{{display}} <small style='color:#999;'>{{group}}</small>",source:{country:{ajax:{url:"/country_v2.json",path:"data.country"}},capital:{ajax:{type:"POST",url:"/country_v2.json",path:"data.capital",data:{myKey:"myValue"}}}},callback:{onNavigateAfter:function(node,lis,a,item,query,event){if(~[38,40].indexOf(event.keyCode)){var resultList=node.closest("form").find("ul.typeahead__list"),activeLi=lis.filter("li.active"),offsetTop=activeLi[0]&&activeLi[0].offsetTop-(resultList.height()/2)||0;resultList.scrollTop(offsetTop);}},onClickAfter:function(node,a,item,event){event.preventDefault();var r=confirm("You will be redirected to:\n"+item.href+"\n\nContinue?");if(r==true){window.open(item.href);}
$('#result-container').text('');},onResult:function(node,query,result,resultCount){if(query==="")return;var text="";if(result.length>0&&result.length<resultCount){text="Showing <strong>"+result.length+"</strong> of <strong>"+resultCount+'</strong> elements "'+query+'"';}else if(result.length>0){text='Showing <strong>'+result.length+'</strong> elements "'+query+'"';}else{text='No results matching "'+query+'"';}
$('#result-container').html(text);},onMouseEnter:function(node,a,item,event){if(item.group==="country"){$(a).append('<span class="flag-chart flag-'+item.display.replace(' ','-').toLowerCase()+'"></span>')}},onMouseLeave:function(node,a,item,event){$(a).find('.flag-chart').remove();}}});});jQuery(window).resize(function($){var count=0;var scrollItemWidth=$('.cbp-bislideshow.scroll li').outerWidth();$('#cbp-bislideshow.scroll').children('li').each(function(){var $item=$(this);$item.css({'left':count*scrollItemWidth});count++;});});var initPhotoSwipeFromDOM=function(gallerySelector){parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){if(thumbElements[i].nodeName=='FIGURE'){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
item.el=figureEl;items.push(item);}}
return items;};closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
nodeIndex++;}
if(index>=0){openPhotoSwipe(index,clickedGallery);}
return false;};photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
var pair=vars[i].split('=');if(pair.length<2){continue;}
params[pair[0]]=pair[1];}
if(params.gid){params.gid=parseInt(params.gid,10);}
return params;};openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};}};if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
if(isNaN(options.index)){return;}
if(disableAnimation){options.showAnimationDuration=0;}
gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();};galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}};initPhotoSwipeFromDOM('.post-gallery');